<!DOCTYPE html>
<html>
<head><title>API Key Test</title></head>
<body>
<h1>API Key Test</h1>
<pre id="output"></pre>
<script>
const output = document.getElementById('output');
let result = 'Checking localStorage...\n\n';

// Check for glossi_settings
const glossiSettings = localStorage.getItem('glossi_settings');
result += 'glossi_settings exists: ' + (!!glossiSettings) + '\n';

if (glossiSettings) {
  try {
    const parsed = JSON.parse(glossiSettings);
    result += 'Parsed successfully\n';
    result += 'apiKey exists: ' + (!!parsed.apiKey) + '\n';
    result += 'apiKey length: ' + (parsed.apiKey ? parsed.apiKey.length : 0) + '\n';
    result += 'apiKey value (first 10 chars): ' + (parsed.apiKey ? parsed.apiKey.substring(0, 10) + '...' : 'none') + '\n';
  } catch (e) {
    result += 'Error parsing: ' + e.message + '\n';
  }
}

output.textContent = result;
</script>
</body>
</html>
