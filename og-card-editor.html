<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Glossi OG Card Editor</title>
  <script src="https://html2canvas.hertzen.com/dist/html2canvas.min.js"></script>
  <style>
    @font-face {
      font-family: 'PP Mori';
      src: url('/fonts/PPMori-Regular.otf') format('opentype');
      font-weight: 400;
      font-style: normal;
    }

    *, *::before, *::after {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
      background: #0a0a0a;
      color: #ffffff;
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      align-items: center;
      padding: 40px 24px;
    }

    .editor-header {
      text-align: center;
      margin-bottom: 32px;
    }

    .editor-header h1 {
      font-size: 20px;
      font-weight: 600;
      letter-spacing: -0.02em;
      color: #ffffff;
      margin-bottom: 6px;
    }

    .editor-header p {
      font-size: 13px;
      color: #737373;
    }

    .toolbar {
      display: flex;
      align-items: center;
      gap: 12px;
      margin-bottom: 24px;
      flex-wrap: wrap;
      justify-content: center;
    }

    .toolbar label {
      font-size: 12px;
      color: #a3a3a3;
      font-weight: 500;
      letter-spacing: 0.03em;
      text-transform: uppercase;
    }

    .toolbar select,
    .toolbar input[type="color"] {
      background: #1a1a1a;
      border: 1px solid rgba(255,255,255,0.1);
      color: #ffffff;
      font-family: inherit;
      font-size: 13px;
      padding: 6px 10px;
      border-radius: 6px;
      cursor: pointer;
    }

    .toolbar input[type="color"] {
      width: 32px;
      height: 32px;
      padding: 2px;
      border-radius: 6px;
    }

    .toolbar-group {
      display: flex;
      align-items: center;
      gap: 6px;
    }

    .card-wrapper {
      position: relative;
      margin-bottom: 32px;
      border-radius: 12px;
      overflow: hidden;
      box-shadow: 0 0 0 1px rgba(255,255,255,0.06), 0 20px 60px rgba(0,0,0,0.5);
    }

    .og-card {
      width: 1200px;
      height: 630px;
      position: relative;
      overflow: hidden;
      display: flex;
      flex-direction: column;
      justify-content: space-between;
      padding: 72px 80px 56px;
    }

    .og-card.theme-light {
      background: #F7F6F3;
    }

    .og-card.theme-dark {
      background: #0a0a0a;
    }

    .og-card.theme-warm {
      background: #FAF8F5;
    }

    .card-title {
      font-family: 'PP Mori', -apple-system, BlinkMacSystemFont, sans-serif;
      font-size: 64px;
      font-weight: 400;
      line-height: 1.08;
      letter-spacing: -0.03em;
      max-width: 820px;
      outline: none;
      cursor: text;
      position: relative;
      z-index: 2;
    }

    .theme-light .card-title,
    .theme-warm .card-title {
      color: #1a1a1a;
    }

    .theme-dark .card-title {
      color: #ffffff;
    }

    .card-title:empty::before {
      content: 'Type your blog title here...';
      color: #b0b0b0;
      pointer-events: none;
    }

    .card-title:focus {
      outline: none;
    }

    .card-bottom {
      display: flex;
      align-items: flex-end;
      justify-content: space-between;
      position: relative;
      z-index: 2;
    }

    .card-label {
      font-size: 16px;
      font-weight: 500;
      letter-spacing: 0.01em;
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .theme-light .card-label,
    .theme-warm .card-label {
      color: #888888;
    }

    .theme-dark .card-label {
      color: #666666;
    }

    .card-logo {
      width: 48px;
      height: 48px;
      flex-shrink: 0;
    }

    .theme-light .card-logo path,
    .theme-warm .card-logo path {
      fill: #1a1a1a;
    }

    .theme-dark .card-logo path {
      fill: #ffffff;
    }

    .visual-element {
      position: absolute;
      bottom: 0;
      right: 0;
      width: 480px;
      height: 400px;
      z-index: 1;
      opacity: 0.06;
      pointer-events: none;
    }

    .visual-element svg {
      width: 100%;
      height: 100%;
    }

    .theme-light .visual-element path,
    .theme-warm .visual-element path {
      fill: #1a1a1a;
    }

    .theme-dark .visual-element path {
      fill: #ffffff;
    }

    .accent-bar {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 5px;
      z-index: 3;
    }

    .actions {
      display: flex;
      gap: 12px;
      align-items: center;
      flex-wrap: wrap;
      justify-content: center;
    }

    .btn {
      font-family: inherit;
      font-size: 14px;
      font-weight: 600;
      padding: 12px 28px;
      border-radius: 8px;
      border: none;
      cursor: pointer;
      transition: all 0.15s ease;
      letter-spacing: -0.01em;
    }

    .btn-primary {
      background: #ffffff;
      color: #0a0a0a;
    }

    .btn-primary:hover {
      background: #e8e8e8;
    }

    .btn-secondary {
      background: rgba(255,255,255,0.08);
      color: #ffffff;
      border: 1px solid rgba(255,255,255,0.1);
    }

    .btn-secondary:hover {
      background: rgba(255,255,255,0.12);
    }

    .size-label {
      font-size: 12px;
      color: #525252;
      margin-top: 8px;
      text-align: center;
    }

    .scale-note {
      font-size: 11px;
      color: #525252;
      margin-bottom: 16px;
      text-align: center;
    }

    @media (max-width: 1280px) {
      .card-wrapper {
        transform-origin: top center;
        transform: scale(0.55);
        margin-bottom: -200px;
      }
    }
  </style>
</head>
<body>

  <div class="editor-header">
    <h1>Glossi OG Card Editor</h1>
    <p>Edit the title below, then export as PNG for your blog og:image</p>
  </div>

  <div class="toolbar">
    <div class="toolbar-group">
      <label>Theme</label>
      <select id="themeSelect">
        <option value="light" selected>Light</option>
        <option value="warm">Warm</option>
        <option value="dark">Dark</option>
      </select>
    </div>
    <div class="toolbar-group">
      <label>Accent</label>
      <input type="color" id="accentColor" value="#E05A33">
    </div>
    <div class="toolbar-group">
      <label>Font Size</label>
      <select id="fontSizeSelect">
        <option value="52">Small</option>
        <option value="58">Medium</option>
        <option value="64" selected>Large</option>
        <option value="72">XL</option>
      </select>
    </div>
  </div>

  <div class="card-wrapper">
    <div class="og-card theme-light" id="ogCard">
      <div class="accent-bar" id="accentBar" style="background: #E05A33;"></div>

      <div class="card-title" contenteditable="true" id="cardTitle">Brand Decay Is the Silent Killer. Glossi Is the Infrastructure That Stops It.</div>

      <div class="card-bottom">
        <div class="card-label">
          <svg class="card-logo-inline" width="20" height="24" viewBox="0 0 306.8 352.69" style="margin-right: 2px;">
            <path d="m306.8,166.33v73.65c0,8.39-6.83,15.11-15.22,15.11h-80.59c-7.05,0-13.43,1.23-17.91,3.81-4.25,2.35-6.49,5.6-6.49,10.52v68.28c0,8.28-6.72,15-15,15H14.66c-8.06,0-14.66-6.72-14.66-14.77V54.17c0-8.39,6.72-15.22,15.11-15.22h35.59c7.05,0,13.43-1.12,17.91-3.58,4.14-2.24,6.49-5.37,6.49-10.3v-9.96c0-8.39,6.83-15.11,15.11-15.11h126.26c8.39,0,15.11,6.72,15.11,15.11v15.11c0,8.39-6.72,15.11-15.11,15.11h-124.58c-5.37.11-10.75.56-14.66,2.46-1.79.89-3.13,2.13-4.14,3.69-1.01,1.68-1.79,4.03-1.79,7.72v185.58c0,2.24,1.79,3.92,3.92,3.92h95.7c5.26,0,10.3-.56,13.88-2.35,1.68-.9,2.91-2.01,3.81-3.58,1.01-1.57,1.68-3.81,1.68-7.28v-69.17c0-8.39,6.83-15.11,15.22-15.11h86.07c8.39,0,15.22,6.72,15.22,15.11Z" fill="#888888"/>
          </svg>
          <span>Glossi</span>
          <span style="color: #b0b0b0; margin: 0 2px;">Â·</span>
          <span style="font-weight: 400;">glossi.io/blog</span>
        </div>

        <svg class="card-logo" viewBox="0 0 306.8 352.69">
          <path d="m306.8,166.33v73.65c0,8.39-6.83,15.11-15.22,15.11h-80.59c-7.05,0-13.43,1.23-17.91,3.81-4.25,2.35-6.49,5.6-6.49,10.52v68.28c0,8.28-6.72,15-15,15H14.66c-8.06,0-14.66-6.72-14.66-14.77V54.17c0-8.39,6.72-15.22,15.11-15.22h35.59c7.05,0,13.43-1.12,17.91-3.58,4.14-2.24,6.49-5.37,6.49-10.3v-9.96c0-8.39,6.83-15.11,15.11-15.11h126.26c8.39,0,15.11,6.72,15.11,15.11v15.11c0,8.39-6.72,15.11-15.11,15.11h-124.58c-5.37.11-10.75.56-14.66,2.46-1.79.89-3.13,2.13-4.14,3.69-1.01,1.68-1.79,4.03-1.79,7.72v185.58c0,2.24,1.79,3.92,3.92,3.92h95.7c5.26,0,10.3-.56,13.88-2.35,1.68-.9,2.91-2.01,3.81-3.58,1.01-1.57,1.68-3.81,1.68-7.28v-69.17c0-8.39,6.83-15.11,15.22-15.11h86.07c8.39,0,15.22,6.72,15.22,15.11Z"/>
        </svg>
      </div>

      <div class="visual-element">
        <svg viewBox="0 0 306.8 352.69">
          <path d="m306.8,166.33v73.65c0,8.39-6.83,15.11-15.22,15.11h-80.59c-7.05,0-13.43,1.23-17.91,3.81-4.25,2.35-6.49,5.6-6.49,10.52v68.28c0,8.28-6.72,15-15,15H14.66c-8.06,0-14.66-6.72-14.66-14.77V54.17c0-8.39,6.72-15.22,15.11-15.22h35.59c7.05,0,13.43-1.12,17.91-3.58,4.14-2.24,6.49-5.37,6.49-10.3v-9.96c0-8.39,6.83-15.11,15.11-15.11h126.26c8.39,0,15.11,6.72,15.11,15.11v15.11c0,8.39-6.72,15.11-15.11,15.11h-124.58c-5.37.11-10.75.56-14.66,2.46-1.79.89-3.13,2.13-4.14,3.69-1.01,1.68-1.79,4.03-1.79,7.72v185.58c0,2.24,1.79,3.92,3.92,3.92h95.7c5.26,0,10.3-.56,13.88-2.35,1.68-.9,2.91-2.01,3.81-3.58,1.01-1.57,1.68-3.81,1.68-7.28v-69.17c0-8.39,6.83-15.11,15.22-15.11h86.07c8.39,0,15.22,6.72,15.22,15.11Z"/>
        </svg>
      </div>
    </div>
  </div>

  <p class="size-label">1200 x 630px (Twitter summary_large_image)</p>

  <div class="actions" style="margin-top: 16px;">
    <button class="btn btn-primary" id="exportBtn">Download PNG</button>
    <button class="btn btn-secondary" id="resetBtn">Reset Title</button>
  </div>

  <script>
    var ogCard = document.getElementById('ogCard');
    var cardTitle = document.getElementById('cardTitle');
    var accentBar = document.getElementById('accentBar');
    var themeSelect = document.getElementById('themeSelect');
    var accentColor = document.getElementById('accentColor');
    var fontSizeSelect = document.getElementById('fontSizeSelect');
    var exportBtn = document.getElementById('exportBtn');
    var resetBtn = document.getElementById('resetBtn');

    var defaultTitle = 'Brand Decay Is the Silent Killer. Glossi Is the Infrastructure That Stops It.';

    themeSelect.addEventListener('change', function() {
      ogCard.className = 'og-card theme-' + this.value;
    });

    accentColor.addEventListener('input', function() {
      accentBar.style.background = this.value;
    });

    fontSizeSelect.addEventListener('change', function() {
      cardTitle.style.fontSize = this.value + 'px';
    });

    resetBtn.addEventListener('click', function() {
      cardTitle.textContent = defaultTitle;
    });

    exportBtn.addEventListener('click', function() {
      var sel = window.getSelection();
      sel.removeAllRanges();

      exportBtn.textContent = 'Exporting...';
      exportBtn.disabled = true;

      html2canvas(ogCard, {
        width: 1200,
        height: 630,
        scale: 2,
        useCORS: true,
        backgroundColor: null
      }).then(function(canvas) {
        var link = document.createElement('a');
        var slug = cardTitle.textContent
          .toLowerCase()
          .replace(/[^a-z0-9]+/g, '-')
          .replace(/^-|-$/g, '')
          .substring(0, 50);
        link.download = 'og-' + slug + '.png';
        link.href = canvas.toDataURL('image/png');
        link.click();
        exportBtn.textContent = 'Download PNG';
        exportBtn.disabled = false;
      }).catch(function() {
        exportBtn.textContent = 'Download PNG';
        exportBtn.disabled = false;
      });
    });

    cardTitle.addEventListener('paste', function(e) {
      e.preventDefault();
      var text = (e.clipboardData || window.clipboardData).getData('text/plain');
      document.execCommand('insertText', false, text);
    });
  </script>
</body>
</html>
